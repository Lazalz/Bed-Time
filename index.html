<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculateur de Sommeil</title>
    <link rel="stylesheet" href="src/style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Calculateur de Sommeil</h1>
      <p class="subtitle">Calculez votre temps de sommeil idéal</p>

      <div class="calculator">
        <div class="time-input">
          <h3>Heure du coucher :</h3>
          <div class="time-selector">
            <button id="bedHourDown">-</button>
            <span id="bedHour">22</span>h
            <button id="bedHourUp">+</button>

            <button id="bedMinuteDown">-</button>
            <span id="bedMinute">00</span>
            <button id="bedMinuteUp">+</button>

            <select id="bedAmPm">
              <option value="PM">PM</option>
              <option value="AM">AM</option>
            </select>
            <span id="bedNoonIndicator" class="noon-indicator"></span>
          </div>
        </div>

        <div class="time-input">
          <h3>Heure du réveil :</h3>
          <div class="time-selector">
            <button id="wakeHourDown">-</button>
            <span id="wakeHour">06</span>h
            <button id="wakeHourUp">+</button>

            <button id="wakeMinuteDown">-</button>
            <span id="wakeMinute">00</span>
            <button id="wakeMinuteUp">+</button>

            <select id="wakeAmPm">
              <option value="AM">AM</option>
              <option value="PM">PM</option>
            </select>
            <span id="wakeNoonIndicator" class="noon-indicator"></span>
          </div>
        </div>

        <button id="calculate">Calculer</button>

        <div id="result" class="result">
          <p>Durée du sommeil : <span id="sleepDuration">-</span></p>
          <p><span id="recommendation">-</span></p>
          <p>Cycles de sommeil (90 min) : <span id="sleepCycles">-</span></p>
          <div id="optimization" class="optimization">
            <h4>Optimisation des cycles de sommeil :</h4>
            <p id="optimizationWakeTime"></p>
            <p id="optimizationBedTime"></p>
          </div>
        </div>
      </div>
      <article class="sleep-article">
        <header class="article-header">
          <h2>Comprendre les cycles du sommeil</h2>
        </header>

        <section class="article-section">
          <h3>Les phases du sommeil</h3>
          <p>
            Les études utilisant la polysomnographie (enregistrement de
            l'activité cérébrale pendant le sommeil) montrent que le cerveau
            traverse des états électriques très différents durant la nuit. Une
            nuit de sommeil n'est pas un bloc uniforme.
          </p>

          <div class="sleep-cycle">
            <h4>Structure d'un cycle de sommeil</h4>
            <p>
              Le sommeil est constitué de 4 à 6 cycles d'environ 90 minutes
              chacun. Chaque cycle se compose de :
            </p>
            <ul class="cycle-list">
              <li>
                <strong>Sommeil léger</strong> : Le cerveau ralentit, mais reste
                facile à réveiller.
              </li>
              <li>
                <strong>Sommeil profond (N3)</strong> : Phase de récupération
                physique et de "nettoyage" du cerveau. L'activité cérébrale est
                très lente.
              </li>
              <li>
                <strong>Sommeil paradoxal (REM)</strong> : Phase de rêves
                intenses. Le cerveau est très actif, presque comme à l'éveil.
              </li>
            </ul>
          </div>
        </section>

        <section class="article-section">
          <h3>La nuance des calculateurs de sommeil</h3>
          <p>
            Les informations sur le sommeil peuvent parfois être trompeuses.Le
            cycle de sommeil de 90 minutes est une simplification qui mérite
            d'être nuancée.
          </p>

          <div class="variations">
            <h4>Pourquoi la durée varie-t-elle ?</h4>
            <ul>
              <li>
                Un cycle dure en moyenne 90 minutes, mais peut varier entre 75
                et 110 minutes selon les individus
              </li>
              <li>La structure des cycles évolue au cours de la nuit</li>
              <li>Les premiers cycles sont plus riches en sommeil profond</li>
              <li>Les derniers cycles contiennent plus de sommeil paradoxal</li>
            </ul>
          </div>

          <div class="tip-box">
            <h4>Astuce pratique</h4>
            <p>
              N'oubliez pas de prendre en compte votre temps d'endormissement.
              Si vous calculez votre réveil en supposant vous endormir en 15
              minutes mais que vous en mettez 45, votre calcul sera faussé.
            </p>
          </div>
        </section>
      </article>
    </div>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
